{"version":3,"file":"MediaQuery.js","sources":["../../../../src/lib/components/MediaQuery.svelte"],"sourcesContent":["<script>\n\timport { onMount } from 'svelte';\n\n\texport let query;\n\n\tlet mql;\n\tlet mqlListener;\n\tlet wasMounted = false;\n\tlet matches = false;\n\n\tonMount(() => {\n\t\twasMounted = true;\n\t\treturn () => {\n\t\t\tremoveActiveListener();\n\t\t};\n\t});\n\n\t$: {\n\t\tif (wasMounted) {\n\t\t\tremoveActiveListener();\n\t\t\taddNewListener(query);\n\t\t}\n\t}\n\n\tfunction addNewListener(query) {\n\t\tmql = window.matchMedia(query);\n\t\tmqlListener = (v) => (matches = v.matches);\n\t\tmql.addListener(mqlListener);\n\t\tmatches = mql.matches;\n\t}\n\n\tfunction removeActiveListener() {\n\t\tif (mql && mqlListener) {\n\t\t\tmql.removeListener(mqlListener);\n\t\t}\n\t}\n</script>\n\n<slot {matches} />\n"],"names":[],"mappings":";;QAGY,MAAK,IAAA;AAKZ,MAAA,UAAU;;;;;"}